@page "/"
@using blog.Shared
@inject HttpClient Http

<div class="container">
<h1 class="text-center py-3">Hello there!</h1>
<p class="text-center">I'm Olga, a software engineer working in the .NET/Azure space. These are some of my ramblings.</p>
<br/>
<hr/>
</div>

@if (blogPosts == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="blog-posts container my-xl-5">
        <table>
            <tbody class="blog-list">
            @foreach (var post in blogPosts)
            {
                 <tr class="blog-post">
                     <td class="first-cell"><img class="title-image" src=@post.TitleImage.Url alt="Title Image"/></td>
                     <td class="second-cell"><Card BlogPost="@post" /></td>
                 </tr>
            }
            </tbody>
        </table>
    </div>
}

@code {
    
    private List<Blog> blogPosts;

    protected override async Task OnInitializedAsync() =>
        blogPosts = await Http.GetFromJsonAsync<List<Blog>>("/BlogPosts");
}